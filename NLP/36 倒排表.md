### Inverted Index

> 倒排表要解决的问题：
>
> 做文本匹配时（比如做问答系统时，要将用户的问题匹配到问答库中的现有问题），直接算用户问题的向量与问答库中所有问题的向量的余弦相似度，复杂度太高。
>
> 因此可以先做一道小筛选，比如先按关键词个数，将问答库中包含用户问题中关键词的问答粗筛出来作为候选。然后再算这些候选问答的向量与用户问题的向量的余弦相似度。
>
> 复杂度从O(N*K)变成O(N)+O(K)



### 举例：

```python
doc1：我们 今天 运动
doc2：我们 昨天 运动
doc3：你们 上 课
doc4：你们 上 什么 课
```



##### step1，词库的构建

```python
v={我们，今天，运动，昨天，上，课，什么}，|v|=7
```

##### step2, 生成倒排表

```python
{
	我们：[doc1，doc2]，
	今天：[doc1]，
	运动：[doc1，doc2]，
	昨天：[doc2]，
    上：[doc3，doc4]，
    课：[doc3，doc4]，
    什么：[doc4]
}
```

##### step3，匹配

```python
输入：我们 课
直接在倒排表中匹配到相关性高一些的doc做备选：
我们：[doc1，doc2]
课：[doc3，doc4]

然后可以根据不同的匹配规则，取并集/取交集/按匹配上的关键词个数，来确定最终doc，都可以
```



